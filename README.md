# 우리집 데이케어센터 통합관리시스템

## 프로젝트 개요

이 프로젝트는 데이케어센터의 다양한 기능을 통합적으로 관리할 수 있는 웹 기반 시스템입니다. 사용자 인증 기능이 추가되어 권한이 있는 사용자만 시스템에 접근할 수 있습니다.

## 기술 스택

- HTML/CSS/JavaScript
- Supabase (백엔드 서비스)
  - 데이터베이스: PostgreSQL
  - 인증 서비스: Supabase Auth

## 변경사항

- Google Apps Script에서 Supabase로 데이터 소스 마이그레이션 완료
- 기존 스프레드시트 기반 데이터 관리에서 Supabase 데이터베이스 활용으로 변경
- 로그인 기능 추가 (Supabase Auth 활용)
- 사용자 정보 표시 및 세션 관리 추가
- 모달 개선 (ESC, X 버튼, 외부 클릭으로 닫기 가능)

## 주요 기능

- 사용자 인증 (로그인/로그아웃)
- 카테고리별 메뉴 시스템
- 동적 네비게이션 생성
- 모달 알림 시스템
- 세션 유지 (페이지 새로고침 후에도 로그인 상태 유지)

## 파일 구조

- `index.html` - 메인 페이지 및 UI 구성요소
- `supabase.js` - Supabase 데이터베이스 연동 모듈
- `auth-module.js` - Supabase 인증 관련 모듈

## 사용 방법

1. 직원번호와 비밀번호로 로그인합니다.
   - 직원번호는 'S'로 시작하는 5자리 숫자 형식입니다 (예: S12345)
   - 대소문자 구분 없이 입력 가능합니다.
2. 로그인 후 카테고리별로 정리된 메뉴에 접근할 수 있습니다.
3. 각 메뉴 항목을 클릭하여 해당 기능으로 이동합니다.

## 데이터베이스 구조

Supabase의 `allsettingtable` 테이블은 다음과 같은 구조로 되어 있습니다:

- 통합관리\_ID: uuid (기본키)
- 카테고리순서: text
- 카테고리: text
- 업무구분: text
- 아이콘: text
- 연결주소: text
- created_at: timestamp with time zone

## 인증 시스템

- Supabase Auth를 활용한 사용자 인증 시스템
- 직원번호를 이메일 형식으로 변환하여 인증 처리 (예: S12345 → s12345@example.com)
- 로컬 스토리지를 활용한 세션 유지 기능
- 권한이 있는 사용자만 메뉴 접근 가능
